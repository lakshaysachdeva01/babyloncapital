<%- include('header'), {seoDetails} %>
<section data-anim-wrap class="pageHero -type-2 -items-center">
  <div data-anim-child="img-right cover-white delay-1" class="pageHero__bg">
    <img src="/assets/img/lobby.jpg" alt="image">
  </div>

  <div class="container">
    <div class="row justify-center">
      <div class="col-12">
        <div data-split='lines' data-anim-child="split-lines delay-3" class="pageHero__content text-center">
          <h1 class="pageHero__title lh-12 capitalize text-white">
            Seasoning
          </h1>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="layout-pt-lg" style="padding-top: 30px;">
    <div data-anim-wrap class="container">

      <div data-anim-child="slide-up delay-4" class="row pt-50 md:pt-30">
        <div class="col-12">
          <div class="roomsSingleGrid -type-1">
            <div>
              <a class="image-popup" href="/assets/img/seas.jpeg">
            <img src="/assets/img/seas.jpeg" alt="image"></a>
          </div>
          <div>
            <a class="image-popup" href="/assets/img/seasoning.jpeg">
            <img src="/assets/img/seasoning.jpeg" alt="image"></a>
            </div>
            <div>
              <a class="image-popup" href="/assets/img/seasoning4.jpeg">
              <img src="/assets/img/food4.jpeg" alt="image"></a>
              </div>
                <div>
                  <a class="image-popup" href="/assets/img/seasoning5.jpeg">
                  <img src="/assets/img/seasoning5.jpeg" alt="image"></a>
                  </div>
                  <div>
                    <a class="image-popup" href="/assets/img/food.jpg">
                    <img src="/assets/img/food.jpg" alt="image"></a>
                    </div>
                    
            <!-- <div class="roomsSingleGrid__button">
               <div class="icon-photo text-20 mr-10"></div>
              <div class="text-15 fw-500">All Photos</div>
            </div> -->
          </div>
        </div>
      </div>

      <div class="row  justify-center pt-50">
        <div class="col-xl-10 col-lg-10">
          <h2 class="text-40">About accommodation</h2>
          <p class="mt-40">
            Our in-house multi-cuisine buffet, ‘The Seasoning’ truly lives up to its name as it puts forth the tastiest dishes full of exciting flavors. Our chef’s specially crafted multi-cuisine menu will spark a sense of joy in your mind as well as your belly. Be it sweet or savory, you can find it all at The Seasoning.
          </p>
        </div>
      </div>
    </div>
  </section>
 

  <div class="row y-gap-40 justify-center pt-50">

    <div class="col-xl-8 col-lg-8">

        <div class="line -horizontal bg-border mt-50 mb-50"></div>
        
        <div class="sidebar -rooms-single px-40 py-40 md:px-30 md:py-30 ">
            <div class="row justify-center text-center">
                <div class="col-auto">
                    <h2 class="text-64 uppercase mb-10 ">Book Your Seat</h2>
                  <div class="text-15 md:text-40 mb-50 pb-50"> Reserve your seat effortlessly and enjoy a seamless experience</div>
                  
                </div>
              </div>
          <form id="ServiceForm" >
            <div class="contactForm row y-gap-30">
              <div class="col-md-6">
                <div class="form-input ">
                  <input type="text" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.name %>" required>
                  <label class="lh-1 text-16 text-light-1">Full Name</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-input ">
                  <input type="text" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone %>" required>
                  <label class="lh-1 text-16 text-light-1">Contact Number</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-input ">
                  <input type="text" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.email %>" required>
                  <label class="lh-1 text-16 text-light-1">Email</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-input ">
                  <input type="number" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.seats %>" required>
                  <label class="lh-1 text-16 text-light-1">No. of Guests (seats)</label>
                </div>
              </div>
             
                  <input type="hidden" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.service %>" value="Seasoning" readonly>
                  
             
              <div class="col-md-6">
                <div class="form-input ">
                  <input type="date" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.indate %>" required>
                  <label style="top:-9px; transform:none; transition:none;">Date</label>
                </div>
              </div>
              <!-- Include Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    
    <div class="col-md-6">
        <div class="form-input">
            <input type="text" id="timePicker" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.time %>" required>
            <label style="top:-9px; transform:none; transition:none;">Time</label>
        </div>
    </div>
    
    <!-- Include Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            flatpickr("#timePicker", {
                enableTime: true,
                noCalendar: true,
                dateFormat: "h:i K", // 12-hour format with AM/PM
                time_24hr: false // Use AM/PM format
            });
        });
    </script>
    
              
              <div class="col-md-12">
              <div class="form-input ">
                <textarea required name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks %>" class="border-1" rows="3"></textarea>
                <label class="lh-1 ">Remarks</label>
              </div>
              </div>
              <div class="form-group" style="display: none;" >
                <input type="hidden" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.serviceType %>" value="Dining" readonly>
                <input type="hidden" id="websiteProjectId" name="websiteProjectId" value="6667f654a9d9239927ce8743">
            </div>
            <div class="col-12">
              <button type="submit" name="submit" value="submit" class="button -md -type-2 w-1/1 bg-accent-2 -accent-1">RESERVE NOW</button>
            </div>
            </div>
          </form>
    <script>
    document.getElementById('ServiceForm').addEventListener('submit', async function (e) { 
      e.preventDefault(); // Prevent the default form submission
    
      const phoneInput = document.querySelector('input[name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone %>"]');
      const phoneNumber = phoneInput.value.trim();
    
      // Validate phone number: Must be exactly 10 digits and only numeric
      if (!/^\d{10}$/.test(phoneNumber)) {
          alert("Contact Number must be exactly 10 digits and numeric.");
          return; // Stop form submission if validation fails
      }
    
      try {
          const API_BASE_URL = "<%= API_BASE_URL %>";
          const websiteID = "<%= websiteID %>";
          const WEBSITEIDKEY = "<%= WEBSITE_ID_KEY %>";
          const SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS = <%- JSON.stringify(SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS) %>;
    
          const CREATE_SERVICE_ENQUIRY_END_POINT = `${API_BASE_URL}/website/service-enquiry/create-service-enquiry`;
    
          const ServiceForm = e.target; // Reference to the form element
          const WEBSITE_ID_KEY = WEBSITEIDKEY;
    
          // Prepare the payload from the form fields
          const payload = {
              [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.name]: ServiceForm.querySelector(
                  `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.name}"]`
              ).value,
              [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone]: phoneNumber, // Use validated phone input
              [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.email]: ServiceForm.querySelector(
                  `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.email}"]`
              ).value,
              [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.service]: ServiceForm.querySelector(
                  `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.service}"]`
              ).value,
              [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.indate]: ServiceForm.querySelector(
                  `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.indate}"]`
              ).value,
              [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.time]: ServiceForm.querySelector(
                  `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.time}"]`
              ).value,
              [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.seats]: ServiceForm.querySelector(
                  `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.seats}"]`
              ).value,
              [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.serviceType]: ServiceForm.querySelector(
                  `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.serviceType}"]`
              ).value,
              [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks]: ServiceForm.querySelector(
                  `textarea[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks}"]`
              ).value,
              [WEBSITE_ID_KEY]: websiteID,
          };
    
          // Set headers for the request
          const headers = new Headers({
              "Content-Type": "application/json",
          });
    
          // Send POST request to the API
          const response = await fetch(CREATE_SERVICE_ENQUIRY_END_POINT, {
              method: "POST",
              headers,
              body: JSON.stringify(payload),
          });
    
          // Handle response
          if (!response.ok) {
              throw new Error(`HTTP error! Status: ${response.status}`);
          }
    
          const data = await response.json();
    
          // Redirect to the thank-you page on success
          sessionStorage.setItem("thankYouMessage", "We've Received Your Booking Request and will Reach out to you soon");
          window.location.href = "/thankyou";
      } catch (error) {
          console.error("Form submission error", error);
      }
    });
    
    </script>
          
        </div>
      </div>
    </div>


<%- include('footer') %>